

***************************************************
Pass 18 final_code_gen starting ...
mars_opt  __merlinwrapper_gcnconv_kernel.cpp __merlinkernel_gcnconv_kernel.cpp  -e c -p final_code_gen -a impl_tool=sdaccel -a mode=opencl -a naive= -a effort=standard -a volatile_flag= -a explicit_bundle= -a sycl=off -a debug_mode=debug  -I/home/centos/CS_259/Project/GCN_FPGA/src/merlin -I/home/centos/CS_259/Project/GCN_FPGA/src/merlin/./ -I/opt/merlin/build/..//mars-gen/lib/merlin -I /opt/merlin/build/..//mars-gen/lib/merlin -I /opt/merlin/build/..//source-opt/include/apint_include
***************************************************
debug mode

====== Typedef replace ========>
=> nondefine func Orig: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func REPLACE: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func Orig: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func REPLACE: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func Orig: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func REPLACE: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func Orig: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func REPLACE: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func Orig: SgFunctionDeclaration:void __merlin_dummy_889() {...}
=> nondefine func REPLACE: SgFunctionDeclaration:void __merlin_dummy_889() {...}
=> nondefine func Orig: SgFunctionDeclaration:void gcnconv_kernel(::merlin_uint_512* x,::merlin_uint_512* weight,int [2 *(88648 + 197... edge_index,::merlin_uint_512* result) {...}
=> nondefine func REPLACE: SgFunctionDeclaration:void gcnconv_kernel(::merlin_uint_512* x,::merlin_uint_512* weight,int [2 *(88648 + 197... edge_index,::merlin_uint_512* result) {...}
=> nondefine func Orig: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_L_() {...}
=> nondefine func REPLACE: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_L_() {...}
=> nondefine func Orig: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_L_() {...}
=> nondefine func REPLACE: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_L_() {...}
=> nondefine func Orig: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func REPLACE: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func Orig: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func REPLACE: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func Orig: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func REPLACE: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func Orig: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func REPLACE: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func Orig: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func REPLACE: SgFunctionDeclaration:void __merlin_dummy_extern_int_merlin_include_G_() {...}
=> nondefine func Orig: SgFunctionDeclaration:void __merlin_dummy_kernel_pragma() {...}
=> nondefine func REPLACE: SgFunctionDeclaration:void __merlin_dummy_kernel_pragma() {...}
Enter final code gen...
---------------------
-----STREAMING_UPDATE
---------------------
----------------------------
-----FINISH STREAMING_UPDATE
----------------------------
    Enter getKernelMap...
--result[0] 315472
--edge_index[0] 216730
--weight[0] 8000
--x[0] 9858500
    Enter data parser...
--result[0] 315472
--edge_index[0] 216730
--weight[0] 8000
--x[0] 9858500
-- Kernel: SgFunctionDeclaration:void gcnconv_kernel(::merlin_uint_512* x,::merlin_uint_512* weight,int [2 *(88648 + 197... edge_index,::merlin_uint_512* result) {...}
-- Kernel call: SgFunctionCallExp:gcnconv_kernel((merlin_uint_512 *)__m_x,(merlin_uint_512 *)__m_weight,__m_edge_index,(merlin_uint_512 *)__m_result)
-- Kernel pragma: SgPragmaDeclaration:#pragma ACCEL kernel
-- Port: SgFunctionDeclaration:void gcnconv_kernel(::merlin_uint_512* x,::merlin_uint_512* weight,int [2 *(88648 + 197... edge_index,::merlin_uint_512* result) {...}


enter replace depth


enter replace depth


enter replace depth


enter replace depth

 ************* 
Data Parser Output (Kernels):
--kenrel (gcnconv_kernel): device=fpga return_type=void 

 ************* 
Data Parser Output (Ports):
--kenrel (gcnconv_kernel): 
  port (edge_index): actual_name=edge_index bank=nullptr bitwidth=32 data_size_in_byte=4*216730 data_type=int depth=216730 formal_name=edge_index max_depth=216730 org_bitwidth=32 org_name=edge_index orig_data_type=int port_idx=2 port_type=array read_length=216730 read_offset=0 read_valid=1 volatile=no write_length=216730 write_offset=0 write_valid=1 
  port (result): actual_name=result bank=nullptr bitwidth=512 data_size_in_byte=4*315472 data_type=struct merlin_uint_512 depth=315472 formal_name=result max_depth=315472 org_bitwidth=32 org_name=result orig_data_type=float port_idx=3 port_type=pointer read_valid=0 volatile=no write_valid=0 
  port (weight): actual_name=weight bank=nullptr bitwidth=512 data_size_in_byte=4*8000 data_type=struct merlin_uint_512 depth=8000 formal_name=weight max_depth=8000 org_bitwidth=32 org_name=weight orig_data_type=float port_idx=1 port_type=pointer read_length=500 read_offset=0 read_valid=1 volatile=no write_valid=0 
  port (x): actual_name=x bank=nullptr bitwidth=512 data_size_in_byte=4*9858500 data_type=struct merlin_uint_512 depth=9858500 formal_name=x max_depth=9858500 org_bitwidth=32 org_name=x orig_data_type=float port_idx=0 port_type=pointer read_length=616157 read_offset=0 read_valid=1 volatile=no write_valid=0 

    Enter post process...
return type string = void
    Enter set_unique_function_name_top...
    Enter shorten_function_name_top...
		Enter check_and_short_function_name
Enter replace memcpy with for loop in function
find one memcpy call: SgFunctionCallExp:memcpy(edge_index_buf_2[0],(const void *)(&edge_index[88648]),sizeof(int ) * 128082)
find one memcpy call: SgFunctionCallExp:memcpy((void *)(&edge_index[88648]),edge_index_buf_2[0],sizeof(int ) * 128082)
find one memcpy call: SgFunctionCallExp:memcpy((void *)(&edge_index_buf_0[0]),(const void *)(&edge_index[0]),sizeof(int ) * 108365)
find one memcpy call: SgFunctionCallExp:memcpy((void *)(&edge_index_buf_1[0]),(const void *)(&edge_index[0]),sizeof(int ) * 216730L)
find one memcpy call: SgFunctionCallExp:memcpy((void *)(&edge_index_buf_3[0]),(const void *)(&edge_index[0]),sizeof(int ) * 216730L)
Enter adding loop label
Data transfer generation for OpenCL
--result[0] 315472
--edge_index[0] 216730
--weight[0] 8000
--x[0] 9858500
    Enter opencl code generation...
Enter change position
__merlin_parameter_h.cpp>0
__merlin_parameter_h.cpp>1
__merlin_parameter_h.cpp>2
__merlin_opencl_kernel_buffer_h.cpp>0
__merlin_opencl_kernel_buffer_h.cpp>1
__merlin_opencl_kernel_buffer_h.cpp>2
one kernel = ::__kernel void gcnconv_kernel(::merlin_uint_512* x,::merlin_uint_512* weight,int [2 *(88648 + 197... edge_index,::merlin_uint_512* result) {...}
__merlin_opencl_kernel_buffer.cpp>0
__merlin_opencl_kernel_buffer.cpp>1
__merlin_opencl_kernel_buffer.cpp>2
mars_opt  __merlinwrapper_gcnconv_kernel.cpp __merlinkernel_gcnconv_kernel.cpp  -e c -p final_code_gen -a impl_tool=sdaccel -a mode=opencl -a naive= -a effort=standard -a volatile_flag= -a explicit_bundle= -a sycl=off -a debug_mode=debug  -I/home/centos/CS_259/Project/GCN_FPGA/src/merlin -I/home/centos/CS_259/Project/GCN_FPGA/src/merlin/./ -I/opt/merlin/build/..//mars-gen/lib/merlin -I /opt/merlin/build/..//mars-gen/lib/merlin -I /opt/merlin/build/..//source-opt/include/apint_include -a cflags="-D XILINX"
mars_opt  __merlinwrapper_gcnconv_kernel.cpp __merlinkernel_gcnconv_kernel.cpp  -e c -p final_code_gen -a impl_tool=sdaccel -a mode=opencl -a naive= -a effort=standard -a volatile_flag= -a explicit_bundle= -a sycl=off -a debug_mode=debug  -I/home/centos/CS_259/Project/GCN_FPGA/src/merlin -I/home/centos/CS_259/Project/GCN_FPGA/src/merlin/./ -I/opt/merlin/build/..//mars-gen/lib/merlin -I /opt/merlin/build/..//mars-gen/lib/merlin -I /opt/merlin/build/..//source-opt/include/apint_include -a cflags="-D XILINX"
